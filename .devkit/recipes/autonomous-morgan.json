[
  { "action": "waitForLoad", "state": "domcontentloaded", "timeout": 60000 },

  { "action": "startConsoleCapture", "logPath": ".devkit/validation/READY-FOR-USER/morgan-console.log" },

  { "action": "ipc", "call": "clearAllFromQueue" },
  { "action": "sleep", "ms": 1000 },

  { "action": "addManuscriptIPC", "url": "{{URL}}", "saveIdAs": ".devkit/validation/READY-FOR-USER/morgan-added.json" },

  { "action": "ipc", "call": "getQueueState", "saveAs": ".devkit/validation/READY-FOR-USER/morgan-queue-after-add.json" },

  { "action": "ipc", "call": "startQueueProcessing" },

  { "action": "monitorQueue", "timeout": 1800000, "intervalMs": 4000, "screenshotEveryMs": 60000, "logPath": ".devkit/validation/READY-FOR-USER/morgan-queue-monitor.ndjson" },

  { "action": "waitForQueueIdle", "timeout": 1800000, "saveAs": ".devkit/validation/READY-FOR-USER/morgan-queue-final.json" },

  { "action": "saveConsole", "logPath": ".devkit/validation/READY-FOR-USER/morgan-console-final.log" },

  { "action": "screenshot", "path": ".devkit/validation/READY-FOR-USER/morgan-final-ui.png", "fullPage": true }
]

